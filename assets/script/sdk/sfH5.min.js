var __reflect=this&&this.__reflect||function(t,e,n){t.__class__=e,n?n.push(e):n=[e],t.__types__=t.__types__?n.concat(t.__types__):n},__extends=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);n.prototype=e.prototype,t.prototype=new n},$SF;!function(t){function e(t,e){for(var n=t.toString().length,i=""+t;e>n;)i="0"+i,n++;return i}function n(){return H}function i(){try{return void(H=window.sfplatform?parseInt(window.sfplatform()):window.sfImp?t.ANDROID:window.wx?window.qq?t.QQ:t.WX:window.qq?t.QQ:t.WEB)}catch(e){}return void 0===H&&(H=t.WEB),H}function r(e){switch(n()){case t.ANDROID:Me=Fe;break;case t.IOS:Me=Be;break;default:Me=Ue}Me.comInit(e)}function a(t){for(var e,n,i,r="",a=0;a<t.length;)e=t.charCodeAt(a),128>e?(r+=String.fromCharCode(e),a++):e>191&&224>e?(n=t.charCodeAt(a+1),r+=String.fromCharCode((31&e)<<6|63&n),a+=2):(n=t.charCodeAt(a+1),i=t.charCodeAt(a+2),r+=String.fromCharCode((15&e)<<12|(63&n)<<6|63&i),a+=3);return r}function o(t){var e,n,i,r,o,s,c,d="",u=0;for(t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");u<t.length;)r=be.indexOf(t.charAt(u++)),o=be.indexOf(t.charAt(u++)),s=be.indexOf(t.charAt(u++)),c=be.indexOf(t.charAt(u++)),e=r<<2|o>>4,n=(15&o)<<4|s>>2,i=(3&s)<<6|c,d+=String.fromCharCode(e),64!=s&&(d+=String.fromCharCode(n)),64!=c&&(d+=String.fromCharCode(i));return d=a(d)}function s(t){var e=document.createElement("iframe");e.setAttribute("src",t),e.setAttribute("style","display:none;"),e.setAttribute("height","0px"),e.setAttribute("width","0px"),e.setAttribute("frameborder","0"),document.body.appendChild(e),e.parentNode.removeChild(e)}function c(t){return(D+t).replace("-","")}function d(e,i,r){void 0===r&&(r=!0);var a=c(e);return window[a]=function(s){n()==t.IOS&&(s=o(s));var c=s;s&&s.length>256&&(c=s.substr(0,128)+"..."),p(" callbackFN "+e+" data:"+c),i?i(s):p("dummy:"+e),r&&(window[a]=void 0)},a}function u(t,e,n){void 0===n&&(n=!1);var i=c(t);return window[i]=function(t){e?e(t):p("dummy:"+i),n&&(window[i]=void 0)},i}function l(t,e){return window[t]?window[t](e):void 0}function p(i){if(1!=F)switch(n()){case t.IOS:console.log("["+J+"]"+i);break;case t.ANDROID:console.info("["+J+"]"+i);break;default:var r=new Date,a="["+e(r.getHours(),2)+":"+e(r.getMinutes(),2)+":"+e(r.getSeconds(),2)+"."+e(r.getMilliseconds(),3)+"]["+J+"]"+i,o=new Error;if(o.stack){var s=o.stack.split("\n");a=a+" "+s[2]}console.info(a)}}function f(t){for(var e=[],n=0,i=0;i<t.length;i++){var r=t.charCodeAt(i);128>r?e[n++]=r:2048>r?(e[n++]=r>>6|192,e[n++]=63&r|128):55296==(64512&r)&&i+1<t.length&&56320==(64512&t.charCodeAt(i+1))?(r=65536+((1023&r)<<10)+(1023&t.charCodeAt(++i)),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=63&r|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=63&r|128)}return e}function h(t){for(var e=[],n=0,i=0;n<t.length;){var r=t[n++];if(128>r)e[i++]=String.fromCharCode(r);else if(r>191&&224>r){var a=t[n++];e[i++]=String.fromCharCode((31&r)<<6|63&a)}else if(r>239&&365>r){var a=t[n++],o=t[n++],s=t[n++],c=((7&r)<<18|(63&a)<<12|(63&o)<<6|63&s)-65536;e[i++]=String.fromCharCode(55296+(c>>10)),e[i++]=String.fromCharCode(56320+(1023&c))}else{var a=t[n++],o=t[n++];e[i++]=String.fromCharCode((15&r)<<12|(63&a)<<6|63&o)}}return e.join("")}function _(t){for(var e=f(t),n=e.length,i=new ArrayBuffer(n+je),r=new Uint8Array(i),a=[],o=0;je>o;o++)r[o]=256*Math.random()|0,a.push((255&r[o])+n+(3*o+2)&255);for(var s=(255&a[0])+(255&a[1]),o=0;n>o;o++){var c=o%je,d=a[c];d=255&(d^We[15&o]),d=255&(d<<1|d>>7&1),a[c]=d;var u=s+o+(255&We[15&o])+d&7,l=255&(255&e[o]^d);l=l>>u|l<<8-u,r[o+je]=l}return i}function g(t){t instanceof ArrayBuffer&&(t=new Uint8Array(t));for(var e=t.length-je,n=[],i=0;je>i;i++)n.push((255&t[i])+e+(3*i+2)&255);for(var r=[],a=(255&n[0])+(255&n[1]),i=0;e>i;i++){var o=i%je,s=n[o];s=255&(s^We[15&i]),s=255&(s<<1|s>>7&1),n[o]=s;var c=a+i+(255&We[15&i])+s&7,d=t[i+je];d=255&(d<<c|(255&d)>>8-c),r.push(255&(d^s))}return h(r)}var m="sfgamecenter:",v="S",y="P",w="A",S="D",b="G";t.WEB=0,t.ANDROID=1,t.IOS=2,t.WX=3,t.QQ=4,t.PROP_PLATFORM="sys.platform";var O="sys.build.release";t.PROP_DEVICE_ID="deviceId";var C="cmd.vibration",P="cmd.clearData";t.PROP_UID="uid";var A="token";t.PROP_USER_NAME="nick",t.PROP_USER_ICON_URL="icUrl",t.PROP_RETRY_CNT="prop.retryCnt";var I="rCnt",T="check";t.PROP_EN_EFFECT="enEffect",t.PROP_EN_MUSIC="enMusic";var k,x="gc_ver",D="_$CB$",E="loginQQ",M="logoutQQ",N="loginWX",R="logoutWX",U="share",B="joinQQGroup";!function(t){t[t.AndroidApp=1]="AndroidApp",t[t.H5App=2]="H5App",t[t.H5Res=3]="H5Res"}(k||(k={}));var F,H,J,L="update",V="restart",G="loadErr",j="appUploadEvent",W="exit",K="onBack",Q="onPauseG",q="onResumeG",X="daList",z="daPreload",$="daPlay",Y="daClosePlay",Z="doDaPlay",te="doDaStop",ee="P_Action",ne="P_eAction",ie="P_rAction",re="P_sAction",ae="ga_",oe="gaBack",se="roundEnd",ce="roundStart",de="resLoad",ue="sf_sub_iframe",le="sf_sub_view",pe="sfinframemessage",fe="main_view",he="focus",_e="blur",ge="app_blur",me="app_focus",ve="back",ye="launch",we="switchview",Se="dispatchmsg",be="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",Oe=0,Ce="margin: auto;width: 100%;height: 100%; overflow-x: hidden; overflow-y: hidden;border:none;position:absolute",Pe=2,Ae="sf",Ie="postHomeMsg",Te=function(){function t(){}return t.isSupport=function(){var t=Me.prop("issupport");return(void 0===t||null===t)&&(t="{}"),t},t.loginQQ=function(t){Me.invoke(v,E,[d(E,t,!0)])},t.logoutQQ=function(t){Me.invoke(v,M,[d(M,t,!0)])},t.loginWX=function(t){Me.invoke(v,N,[d(N,t,!0)])},t.logoutWX=function(t){Me.invoke(v,R,[d(R,t,!0)])},t.share=function(t,e){Me.invoke(v,U,[d(U,e,!0),t])},t.joinQQGroup=function(t,e){Me.invoke(v,B,[t,e])},t}();__reflect(Te.prototype,"SFSocial");var ke=function(){function t(){}return t.action=function(e,n){var i=function(e){var i=JSON.parse(e);if(n){var r=void 0;switch(i.r){case"ok":r=t.OK;break;case"cancel":r=t.Cancel;break;default:r=t.Fail}n(r,i.orderId,i.productId,i.msg)}return!0};Me.invoke(y,ee,[d(ee+e.productId,i,!0),e.productId,e.price,e.productName,e.orderId])},t.finishAction=function(t,e){Me.invoke(y,ne,[d(ne+t.productId,e,!0),t.productId,t.orderId])},t.onResumeAction=function(e){var n=function(n){var i=JSON.parse(n);if(e){var r=void 0;switch(i.r){case"ok":r=t.OK;break;case"cancel":r=t.Cancel;break;default:r=t.Fail}e(r,i.orderId,i.productId,i.msg)}return!0};d(ie,n,!1)},t.restoreAction=function(t){Me.invoke(y,re,[d(re,t,!0)])},t.OK=0,t.Fail=1,t.Cancel=2,t}();__reflect(ke.prototype,"SFPay");var xe=[],De=[],Ee=function(){function e(){}return e._frameName=function(t){return t==Oe?fe:ue+t},e._loadURLInFrame=function(t,n,i,r){p("subUrl:"+n+" url:"+t);var a=parent.document.createElement("iframe");a.setAttribute("id",e._frameName(n)),a.setAttribute("src",t),a.setAttribute("style",Ce),parent.document.body.appendChild(a),r&&(a.onload=function(){r(!0)},a.onerror=function(t){r(!1),p("_loadURLInFrame onerror:"+t)}),De.push(n)},e._postMsg=function(t,n,i){if(t==n){p("skip _postMsg [self:"+n+"]:"+JSON.stringify(i));var r=pe+JSON.stringify(i);e._onEngine(r)}else if(t==Oe){var r=pe+JSON.stringify(i);p("_postMsg ["+n+"-> 0(app)]:"+JSON.stringify(i)),window.parent.postMessage(r,"*")}else{var a=parent.document.getElementById(e._frameName(t));if(a){p("_postMsg ["+n+"->"+t+"(game)]:"+JSON.stringify(i));var r=pe+JSON.stringify(i);a.contentWindow.postMessage(r,a.src)}else p("dummy iframe")}},e._cmdSwitch=function(t){var n=document.getElementById(e._frameName(t.gid));if(!n)return void p("_cmdSwitch err1:"+JSON.stringify(t));var i=parent.document.getElementById(e._frameName(t.target_gameId));i?(t.mode===Pe?(t.target_gameId!=Oe&&i.setAttribute("style",Ce),i.style.zIndex="2",n.style.zIndex="1"):n.style.display="none",i.style.display="block",xe.push(t.target_gameId),p("_cmdSwitch "+t.gid+"<->"+t.target_gameId+" showIframe.contentWindow == window?"+(i.contentWindow==window)),t.target_gameId>0?(p("[focus] try game focus in _cmdSwitch"),e._postMsg(t.target_gameId,t.gid,{cmd:he})):(p("[focus] try app focus in _cmdSwitch"),e._postMsg(0,t.gid,{cmd:he}))):p("_cmdSwitch err2:"+JSON.stringify(t))},e._closeclose=function(t,n,i){p("_closeclose hideGameId:"+t+" showGameId:"+n+" rm:"+i);var r=document.getElementById(e._frameName(t));r&&(r.style.zIndex="0",r.style.display="none",i&&t!=Oe&&parent.document.body.removeChild(r));var a=parent.document.getElementById(e._frameName(n));a&&(r.style.zIndex="0",a.style.display="block",n>0?(p("[focus] try game focus in _closeclose"),e._postMsg(n,t,{cmd:he})):(p("[focus] try app focus in _closeclose"),e._postMsg(0,t,{cmd:he}),window[c(oe)]&&window[c(oe)](t)))},e._cmdClose=function(){if(p("_cmdClose _luanchView.length: "+De.length+" _switchView.length:"+xe.length),1!==De.length)if(0!==xe.length){var t,n=xe.pop();xe.length>0?(t=xe[xe.length-1],e._closeclose(n,t,!1)):(t=De[De.length-1],e._closeclose(n,t,!0))}else{var n=De.pop(),t=De[De.length-1];e._closeclose(n,t,!0)}},e._cmdDispatchMsg=function(t){if(t.cbn&&window[t.cbn])window[t.cbn](t.d);else if(t.gid>0){p("!! _cmdDispatchMsg no callback:"+t.cbn);for(var e in window)e.substr(0,5)==D&&p("dump method:"+e)}},e._onEngine=function(t){if(p("_recv msg:"+t),new RegExp(pe).test(t)){var n=t.slice(pe.length,t.length),i=JSON.parse(n);switch(i.cmd){case we:e._cmdSwitch(i);break;case ve:e._cmdClose();break;case Se:e._cmdDispatchMsg(i);break;case he:p("on CMD_FOCUS"),window.focus();break;case _e:p("on CMD_BLUR"),window.blur();break;case ge:p("on CMD_APP_PAUSE"),window[c(Q)]&&window[c(Q)](),window.blur();break;case me:p("on CMD_APP_RESUME"),window[c(q)]&&window[c(q)](),window.focus()}}},e.registerEventListener=function(){window.addEventListener("message",function(t){void 0!==t.data&&e._onEngine(t.data)},!1)},e.launchH5=function(t){if(0!==xe.length)return void p("!! skip launchH5 _switchView.length:"+xe.length);for(var n=0;n<De.length;n++)if(De[n]===t.gid)return void p("error same id");if(!t.isBgLaunch){var i;if(0!=De.length&&(i=De[De.length-1]),i){var r=document.getElementById(e._frameName(i));r&&(r.style.display="none")}}e._loadURLInFrame(t.url,t.gid,t.isBgLaunch,t.htmlCB),t.isBgLaunch&&e._cmdSwitch({target_gameId:Oe,gid:t.gid,mode:Pe})},e.dispatchMsgH5=function(t,n,i){e._postMsg(t,J,{cmd:Se,gid:J,cbn:n,d:i})},e.switchViewH5=function(t,n,i,r){t!==n&&e._postMsg(Oe,J,{cmd:we,target_gameId:t,gid:n,mode:i,exparams:r})},e.backH5=function(){e._postMsg(Oe,J,{cmd:ve})},e._genSubViewId=function(t){var e=le;return void 0!==t&&null!==t&&(e+=t),e},e.addSubView=function(n,i,r,a,o,s,c){var d=e._genSubViewId(c),u=document.getElementById(d);if(void 0===u||null===u){var l=document.createElement("div");l.setAttribute("id","if_div");var p="-webkit-overflow-scrolling: touch;position:absolute;border:none";p+=Me.prop(t.PROP_PLATFORM)==t.IOS?";overflow:scroll":";overflow:hidden",p+=";width:"+a+"px",p+=";height:"+o+"px",l.setAttribute("style",p),l.style.top=i+"px",l.style.left=r+"px",document.body.appendChild(l),u=document.createElement("iframe"),u.setAttribute("id",e._genSubViewId(c)),u.setAttribute("src",n);var f="border:none";f+=";-webkit-overflow-scrolling: touch;width:100%;height:100%",u.setAttribute("style",f),l.appendChild(u),u.onload=s}else{u.setAttribute("src",n);var f="border:none";f+=";-webkit-overflow-scrolling: touch;width:100%;height:100%",u.setAttribute("style",f),void 0!==s&&null!==s&&s()}},e.removeSubView=function(t){var n=e._genSubViewId(t),i=document.getElementById(n);if(i){var r=document.getElementById("if_div");document.body.removeChild(r)}},e.topID=function(){return xe.length>0?xe[xe.length-1]:De.length>0?De[De.length-1]:void 0},e.pause=function(t){var n=t?t:e.topID();e._postMsg(n,J,{cmd:ge})},e.resume=function(t){var n=t?t:e.topID();e._postMsg(n,J,{cmd:me})},e.forceClose=function(t){if(Ne++,1!=De.length){if(J!=Oe)return void p("!! no permission clearAll");for(;0!=xe.length;){var n,i=xe.pop();xe.length>0?(n=xe[xe.length-1],e._closeclose(i,n,!1)):(n=De[De.length-1],e._closeclose(i,n,!0))}for(;De.length>=2;){var i=De.pop(),n=De[De.length-1];e._closeclose(i,n,!0)}}},e}();__reflect(Ee.prototype,"SFH5Support");var Me,Ne=0,Re=function(){function t(){}return t.comInit=function(t){Ee.registerEventListener(),t.complete&&t.complete()},t.dispatchMsg=function(t,e,n,i){Ee.dispatchMsgH5(t,n,i)},t.switchView=function(t,e,n,i){Ee.switchViewH5(t,e,n,i)},t.launchTimeOut=function(){Ne++},t.back=function(){Ee.backH5()},t.addSubView=function(t,e,n,i,r,a,o){Ee.addSubView(t,e,n,i,r,a,o)},t.removeSubView=function(t){Ee.removeSubView(t)},t.pause=function(t){Ee.pause(t)},t.resume=function(t){Ee.resume(t)},t.forceClose=function(t){Ee.forceClose(t)},t.loadErr=function(t){t.flag?Me.invoke(b,G,[d(G,t.cb,!0),t.msg,t.flag]):Me.invoke(b,G,[d(G,t.cb,!0),t.msg])},t.appUploadEvent=function(t){Me.invoke(b,j,[d(j,t.cb,!1),t.url,t.eventData])},t.exit=function(){Me.invoke(b,W)},t.share=function(t,e){Me.invoke(v,U,[d(U,e),t])},t}();__reflect(Re.prototype,"comBase");var Ue=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return __extends(n,e),n.getKey=function(t){t=t||window.event;var e=t.which?t.which:t.keyCode;27==e&&window[c(K)]&&window[c(K)]()},n.comInit=function(i){e.comInit.call(this,i),document.addEventListener?document.addEventListener("keyup",n.getKey,!1):document.attachEvent?document.attachEvent("onkeyup",n.getKey):document.onkeyup=n.getKey,i.id>0&&(window[c(K)]=function(t){Ee.dispatchMsgH5(0,c(K))});var r=window.localStorage.getItem(t.PROP_DEVICE_ID);r&&0!=r.length||(r="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0,n="x"==t?e:3&e|8;return n.toString(16)}),window.localStorage.setItem(t.PROP_DEVICE_ID,r))},n.prop=function(e,n){if(void 0===n){if(n=window.localStorage.getItem(e),!n)switch(e){case O:return"0";case t.PROP_PLATFORM:return t.WEB;case X:return JSON.stringify([1,6,7,8]);case"sys.verName":case"sys.build.osVer":return"web_1.0";case"sys.verCode":return"2";case"sys.pkgName":return"com.sf.new.flat.ios";case"sys.channel":return"snowfish";case"sys.build.model":return"pc";case"issupport":return JSON.stringify({login:["wx","qq"]})}return n}switch(e){case P:window.localStorage.clear();break;default:null===n||""===n?window.localStorage.removeItem(e):window.localStorage.setItem(e,n)}},n.launch=function(t,e){var n=Ne;setTimeout(function(){return Ne!=n?void p("pplistener skip "+Ne):(Ne++,t.shellCB&&t.shellCB(!0),void(e||Ee.launchH5({url:t.zipUrl.replace(".zip","/")+t.search,gid:t.gid,isBgLaunch:t.isBgLaunch,htmlCB:t.htmlCB})))},100)},n.invoke=function(t,e,i){switch(e){case z:setTimeout(function(){l(i[0],rn.STATUS_OK)},100);break;case $:n._tmpCnt++;for(var r=n._tmpCnt;r-->0;)l(i[0],rn.STATUS_CLICK_AD);n._tmpCnt%2?(p("simulate daPlay success"),setTimeout(function(){l(i[0],rn.STATUS_OK)},3e3)):(p("simulate daPlay fail"),setTimeout(function(){l(i[0],rn.STATUS_OUT_OF_AD)},1e3));break;case ee:n._tmpCnt++,n._tmpCnt%2?(p("simulate daPlay success"),setTimeout(function(){l(i[0],JSON.stringify({r:"ok",msg:"simulate success"}))},3e3)):(p("simulate daPlay fail"),setTimeout(function(){l(i[0],JSON.stringify({r:"fail",msg:"simulate fail"}))},1e3));break;case U:n._tmpCnt++,n._tmpCnt%2?(p("simulate share success"),l(i[0],JSON.stringify({r:"ok"}))):(p("simulate share fail"),l(i[0],JSON.stringify({r:"fail"})));break;case L:setTimeout(function(){l(i[0],JSON.stringify({r:"ok"}))},5e3);break;case V:window.location.replace(i[2]);break;case W:window.location.reload();break;case G:break;default:switch(t){case w:break;default:i&&i[0]&&(p("! not support:"+t+" "+e+" arg:"+JSON.stringify(i)),l(i[0],JSON.stringify({r:"fail",msg:"not support!"})))}}},n.hutuiAct=function(t){},n._tmpCnt=0,n}(Re);__reflect(Ue.prototype,"comH5");var Be=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return __extends(n,e),n.prop=function(e,n){if(e==t.PROP_PLATFORM)return""+t.IOS;if(void 0===n){var i=prompt(m+e,"");return i&&""!==i&&"$sf$removeItem"!=i?i:null}return null===n||""===n?(prompt(m+e,"$sf$removeItem"),null):(prompt(m+e,n),n)},n.launch=function(t,e){var i=Ne;n.invoke(b,ye,[t.zipUrl,d("pplistener",function(n){if(Ne!=i)p("pplistener skip "+i+"vs"+Ne+" "+n);else{p("pplistener "+n),Ne++;var r=n?!0:!1,a={url:n+t.search,gid:t.gid,isBgLaunch:t.isBgLaunch,htmlCB:t.htmlCB};t.shellCB&&t.shellCB(r),e||Ee.launchH5(a)}},!0),t.zipVer,t.gid])},n.invoke=function(t,e,n){var i={functionName:t+e,arguments:n},r=JSON.stringify(i);s(m+r)},n.hutuiAct=function(t){Le.onEvent("hutuiAct"),4===t.type?Ge.getJSON(t.src,function(t,e,i){e&&n.invoke(b,"hutuiAct",[e.link])}):(5===t.type||6===t.type)&&n.invoke(b,"hutuiAct",[t.src])},n}(Re);__reflect(Be.prototype,"comIOS");var Fe=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return __extends(n,e),n.prop=function(e,n){if(e==t.PROP_PLATFORM)return""+t.ANDROID;if(void 0===n){var i=window.sfImp.getProperty(e);return i&&""!==i?i:null}null===n||""===n?window.sfImp.setProperty(e,""):window.sfImp.setProperty(e,n)},n.launch=function(t,e){var i=Ne;n.invoke(b,ye,[t.zipUrl,d("pplistener",function(n){if(Ne!=i)p("pplistener skip "+i+"vs"+Ne+" "+n);else{p("pplistener "+n),Ne++;var r=JSON.parse(n),a=r.url?!0:!1,o={url:r.url+t.search,gid:t.gid,isBgLaunch:t.isBgLaunch,htmlCB:t.htmlCB};t.shellCB&&t.shellCB(a),e||Ee.launchH5(o)}},!0),t.zipVer,t.gid])},n.invoke=function(t,e,n){var i={functionName:t+e,arguments:n},r=JSON.stringify(i);s(m+r)},n.hutuiAct=function(t){Le.onEvent("hutuiAct"),n.invoke(b,"hutuiAct",[t])},n}(Re);__reflect(Fe.prototype,"comAndr"),t.log=p;var He=function(){function e(){}return e.remapKey=function(e){return Ae+"#"+Je.prop(t.PROP_UID)+"#"+Je.id+"#"+e},e.setItem=function(t,e){Me.prop(this.remapKey(t),e)},e.getItem=function(t){var e=Me.prop(this.remapKey(t));return void 0===e||"string"==typeof e&&0==e.length?null:e},e.removeItem=function(t){Me.prop(this.remapKey(t),null)},e.clear=function(){Me.prop(P,!0)},e.getJSON=function(t){try{return JSON.parse(this.getItem(t))}catch(e){return}},e.setJSON=function(t,e){e?this.setItem(t,JSON.stringify(e)):this.removeItem(t)},e}();t.sfLocalStorage=He,__reflect(He.prototype,"$SF.sfLocalStorage");var Je=function(){function e(){}return e.getUrlParam=function(n){if(!e._requestParams[n])switch(n){case T:return"NO";case I:return"2";case t.PROP_EN_EFFECT:return"true";case t.PROP_EN_MUSIC:return"true";case x:return Me.prop(x)}return e._requestParams[n]},e.setUrlParam=function(t,n){e._requestParams[t]=decodeURI(n)},e.initParams=function(t){if(-1!=t.indexOf("?"))for(var n=t.substr(1),i=n.split("&"),r=0;r<i.length;r++){var a=i[r].split("=")[0],o=i[r].substr(a.length+1);e.setUrlParam(a,o)}},e.initPId=function(){return i(),H},e.init=function(n){e._id=n.id,e._isFirstStart=!0,De[0]=Oe,J=n.id,e.initParams(window.location.search),e.initPId(),e._isSingle=window==window.parent&&H!=t.WX,r(n),F=Me.prop(O),null===F&&(F=1),e.daInit(function(t){p("init da:"+t)})},e.id=function(){return e._id},Object.defineProperty(e,"isSingle",{get:function(){return e._isSingle},enumerable:!0,configurable:!0}),e.back=function(t){Me.back()},e.prop=function(i,r){switch(i){case A:case t.PROP_UID:case t.PROP_USER_NAME:case t.PROP_USER_ICON_URL:case T:case t.PROP_EN_EFFECT:case t.PROP_EN_MUSIC:case x:return e.getUrlParam(i);case t.PROP_RETRY_CNT:return e.getUrlParam(I);case t.PROP_PLATFORM:return n()}return i==O&&void 0!==r&&(F=r),Me.prop(i,r)},e.startVib=function(t){return Me.prop(C,t?t:20)},e.onLoadingProgress=function(t){e._isSingle||Me.dispatchMsg(Oe,e._id,c(de),{gid:e._id,loadCur:t.loadCur,loadMax:t.loadMax})},e.onGameStart=function(t){if(e._isSingle)t({r:!0});else{var n=function(n){p("[focus] try game focus in onGameStart"),Me.resume(e._id),t&&t(n)};Me.dispatchMsg(Oe,e._id,c(ce),{gid:e._id,first:e._isFirstStart,cbn:u(ae+ce,n)})}e._isFirstStart=!1},e.onGameEnd=function(t,n){if(e._isSingle)n({r:!0});else{var i=function(t){p("[focus] try game focus in onGameEnd"),Me.resume(e._id),n&&n(t)};Me.dispatchMsg(Oe,e._id,c(se),{gid:e._id,sc:t.score,win:t.win,level:t.level,cbn:u(ae+se,i)})}},e.onPause=function(t){u(Q,t)},e.onResume=function(t){u(q,t)},e.postHomeMsg=function(t,n,i){if(e._isSingle)i({r:!1});else{var r=function(t){p("[focus] try game focus in onGetParam"),t&&!t.inBackFlag&&Me.resume(e._id),i&&i(t.extra)};Me.dispatchMsg(Oe,e._id,c(Ie),{gid:e._id,msgId:t,msgD:n,cbn:u(ae+Ie+t,r)})}},Object.defineProperty(e,"daUserToken",{get:function(){return an.userToken},enumerable:!0,configurable:!0}),e.daInit=function(t){if(e._isSingle){if(an.initing)return void(t&&t(sn.BusyInit));if(an.inited)return void(t&&t(sn.Success));an.init(function(e){t&&t(e?sn.Success:sn.InitFail)})}else t&&t(sn.Success)},e._postPlayDa=function(t,n,i){var r=function(t){Me.resume(e._id),i&&i(t.r)};Me.dispatchMsg(Oe,e._id,c(Z),{gid:e._id,p:t,up:n,cbn:u(""+t,r)})},e.playFullVideo=function(t,n,i){var r=this;void 0===i&&(i=!1),e._isSingle?an.inited?an.play(i?cn.FullVideoLandscape:cn.FullVideoPortrait,t,function(t){n(t.s)}):an.init(function(e){e?r.playFullVideo(t,n,i):n(sn.InitFail)}):this._postPlayDa(i?cn.FullVideoLandscape:cn.FullVideoPortrait,t,n)},e.playRewardVideo=function(t,n,i){var r=this;void 0===i&&(i=!1),e._isSingle?an.inited?an.play(i?cn.RewardVideoLandscape:cn.RewardVideoPortrait,t,function(t){n(t.s)}):an.init(function(e){e?r.playRewardVideo(t,n,i):n(sn.InitFail)}):this._postPlayDa(i?cn.RewardVideoLandscape:cn.RewardVideoPortrait,t,n)},e.showBa=function(t,n,i){var r=this;e._isSingle?an.inited?an.play(n?cn.BaTop:cn.BaBottom,t,function(t){i&&i(t.s)}):an.init(function(e){e?r.showBa(t,n,i):i(sn.InitFail)}):this._postPlayDa(n?cn.BaTop:cn.BaBottom,t,i)},e.hideBa=function(){e._isSingle?an.hideBa():Me.dispatchMsg(Oe,e._id,c(te),{gId:e._id})},e._isFirstStart=!0,e._requestParams={},e.localStorage=He,e}();t.Ga=Je,__reflect(Je.prototype,"$SF.Ga");var Le=function(){function t(){}return t.onEvent=function(t){Me.invoke(w,"onEvent",[t])},t.onEventWithParameters=function(t,e){Me.invoke(w,"onEventWithParameters",[t,e])},t.trackingRegisterUid=function(t){Me.invoke(w,"trackingRegisterUid",[t])},t.trackingLoginUid=function(t){Me.invoke(w,"trackingLoginUid",[t])},t.trackingonEvent=function(t){Me.invoke(w,"trackingonEvent",[t])},t.trackingDAEvent=function(t,e,n,i){Me.invoke(w,"trackingDAEvent",[t,e,n,i])},t}();__reflect(Le.prototype,"Analytics");var Ve=function(){function t(){}return t._createXHR=function(){return new XMLHttpRequest},t._defaultAjaxSuccessHandler=function(){},t._defaultAjaxErrorHandler=function(){},t._defaultAjaxCompleteHandler=function(){},t._xhrJsonHandler=function(t){return JSON.parse(t._xhr.responseText)},t._xhrJsonJFBHandler=function(t){return JSON.parse(g(t._xhr.response))},t._xhrXmlHandler=function(t){return t._xhr.responseXML},t._xhrHtmlHandler=function(t){return t._xhr.responseText},t._xhrJsonPHandler=function(t){},t._xhrTextHandler=function(t){return t._xhr.responseText},t._xhrNoneHandler=function(t){return null},t._ajaxDataFilter=function(t){return t},t.prototype.start=function(){var t=this,e=t._xhr;if(t.hasDone=!1,t.username?e.open(t.type,t.url,t.async,t.username,t.password):e.open(t.type,t.url,t.async),t.mimeType&&e.overrideMimeType(t.mimeType),t.data&&t.contentType&&e.setRequestHeader("Content-Type",t.contentType),t.ifModified&&e.setRequestHeader("If-Modified-Since",t.ifModified),"xml"==t.dataType?e.responseType="document":("jfb"==t.dataType||"arraybuffer"==t.dataType)&&(e.responseType="arraybuffer"),t.accepts&&t.accepts.length>0){for(var n="",i=0;i<t.accepts.length;i++)i>0&&(n+=", "),n+=t.accepts[i];e.setRequestHeader("Accept",n)}if(t.headers)for(var r in t.headers)void 0!==r&&t.headers.hasOwnProperty(r)&&void 0!==t.headers[r]&&e.setRequestHeader(r,t.headers[r]);var a=void 0;t.timeout&&t.timeout>0&&(a=setTimeout(function(){clearTimeout(a),t.hasDone=!0,e.abort(),t.error(t,"timeout"),t.complete(t,"timeout")},t.timeout)),e.onreadystatechange=function(){if(4!=e.readyState||t.hasDone)3==e.readyState&&t.partial&&t.partial(e.responseText,"partial");else{t.hasDone=!0,void 0!==a&&clearTimeout(a);var n=t._xhrMapHttpStatus(t._xhr);if((""==e.responseType||"text"==e.responseType)&&null==e.responseText||0==e.status)t.error(t,n,"");else{var i=t.statusCode[e.status];if(i)i(t,n);else if(200==e.status||206==e.status||t.ifModified&&304==e.status){var r=!1;try{304!=e.status&&(t.partial&&t.partial(e.responseText,"done"),t.resultData=t.resultHandler(t))}catch(o){r=!0,t.error(t,n,o)}r||t.success(t.dataFilter(t.resultData,t),n,t)}else t.error(t,n,e.statusText)}t.complete(t,n)}};try{t.data?e.send(t.data):e.send()}catch(o){t.hasDone=!0,t.error(t,"error",o.toString()),t.complete(t,"error")}},t.prototype.abort=function(){var t=this;t.hasDone||!t._xhr||2!=t._xhr.readyState&&3!=t._xhr.readyState||(t.hasDone=!0,t._xhr.abort(),t.error(t,"abort"),t.complete(t,"abort"))},t.prototype.done=function(t){return this.success=t,this},t.prototype.fail=function(t){return this.error=t,this},t.prototype.always=function(t){return this.complete=t,this},t.prototype._xhrMapHttpStatus=function(t){if((""==t.responseType||"text"==t.responseType)&&null==t.responseText||0==t.status)return"error";var e=t.status;return 200==e||206==e?"success":304==e?"notmodified":"error"},t}();__reflect(Ve.prototype,"FWXHR");var Ge=function(){function t(){}return t.ajax=function(t,e){var n=new Ve;return n.url=t,n.type=e.type||"GET",n.async=void 0===e.async?!0:e.async,n.dataType=e.dataType||"html",n.contentType=e.contentType||"application/x-www-form-urlencoded; charset=UTF-8",n.data=e.data,n.password=e.password||void 0,n.username=e.username||void 0,n.statusCode=e.statusCode||{},n.timeout=e.timeout||void 0,n.cache=e.cache||!1,n.accepts=e.accepts||[],n.headers=e.headers||{},n.mimeType=e.mimeType,n.success=e.success||Ve._defaultAjaxSuccessHandler,n.error=e.error||Ve._defaultAjaxErrorHandler,n.complete=e.complete||Ve._defaultAjaxCompleteHandler,n.ifModified=e.ifModified,n.dataFilter=e.dataFilter||Ve._ajaxDataFilter,n.partial=e.partial||void 0,e.resultHandler?n.resultHandler=e.resultHandler:"html"==n.dataType?n.resultHandler=Ve._xhrHtmlHandler:"xml"==n.dataType?n.resultHandler=Ve._xhrXmlHandler:"json"==n.dataType?n.resultHandler=Ve._xhrJsonHandler:"text"==n.dataType?n.resultHandler=Ve._xhrTextHandler:"jfb"==n.dataType&&(n.resultHandler=Ve._xhrJsonJFBHandler),n.resultHandler=n.resultHandler||Ve._xhrNoneHandler,n.jsonp||(n._xhr=Ve._createXHR()),(void 0===e.start||1==e.start)&&n.start(),n},t.getJSON=function(e,n,i,r){var a=Date.now(),o={type:"GET",async:!0,success:function(t,e,i){n&&n(i,t,Date.now()-a)},error:function(t,e){n&&n(t,void 0,Date.now()-a)},timeout:i?i:15e3,headers:r};t.ajax(e,o)},t.postJSONEx=function(e,n,i,r,a,o){var s=Date.now(),c={type:"POST",async:!0,success:function(t,e,n){r&&r(n,t,Date.now()-s)},error:function(t,e){r&&r(t,void 0,Date.now()-s)},timeout:a?a:15e3,headers:o};c.data=i,n?(c.data=_(i),c.dataType="jfb",c.accepts=["application/vnd+sf+jfb"],c.contentType="application/vnd+sf+jfb"):(c.data=i,c.dataType="json",c.contentType="application/json; charset=UTF-8"),t.ajax(e,c)},t}();__reflect(Ge.prototype,"XMLHttp");var je=8,We=[172,167,71,90,56,85,105,170,34,175,243,95,129,101,237,241],Ke="https://das-f.appgames.cn:9501/das/a/",Qe="https://testfsbn.snowfish.cn:9501/das/a/",qe="i/",Xe="b/",ze="e/",$e="prop.da.config",Ye="prop.da.uToken",Ze={},tn=function(){function t(){}return t.MODE_COUNT=1,t.MODE_WEIGHT=2,t.Banner=2,t.RewardVideo=5,t.RewardVideoLandscape=8,t.FullVideo=6,t.FullVideoLandscape=9,t}();__reflect(tn.prototype,"AdCode");var en=function(){function t(){}return t}();__reflect(en.prototype,"AdPointConf");var nn=function(){function t(){}return t}();__reflect(nn.prototype,"AdSdkPolicy");var rn=function(){function t(){}return t.STATUS_UNKNOWN=0,t.STATUS_PROMPTED=1,t.STATUS_OK=2,t.STATUS_CANCELED=3,t.STATUS_OUT_OF_AD=4,t.STATUS_TIMEOUT=5,t.STATUS_CLICK_AD=6,t}();t.AdShowInfo=rn,__reflect(rn.prototype,"$SF.AdShowInfo");var an=function(){function e(){}return Object.defineProperty(e,"initing",{get:function(){return this._initing},enumerable:!0,configurable:!0}),Object.defineProperty(e,"inited",{get:function(){return this._inited},enumerable:!0,configurable:!0}),Object.defineProperty(e,"userToken",{get:function(){return t.Ga.prop(Ye)},set:function(e){t.Ga.prop(Ye,e)},enumerable:!0,configurable:!0}),Object.defineProperty(e,"data",{get:function(){return this._data},enumerable:!0,configurable:!0}),Object.defineProperty(e,"cfgVer",{get:function(){return this._data.ver},enumerable:!0,configurable:!0}),e.getDaData=function(){var e=t.Ga.prop($e);return e?JSON.parse(e):{ver:"",posList:[],codes:[],policyMap:{},today:0}},e.saveDaData=function(){t.Ga.prop($e,JSON.stringify(this._data))},e.getPreloadDA=function(t){return Ze[t.aid]||(Ze[t.aid]={}),Ze[t.aid][t.at]||(Ze[t.aid][t.at]={dc:null}),Ze[t.aid][t.at].dc},e.preloadDA=function(t){Ze[t.aid]||(Ze[t.aid]={}),Ze[t.aid][t.at]||(Ze[t.aid][t.at]={dc:null}),Ze[t.aid][t.at].dc=null;var e,n=function(e){"2"==e?Ze[t.aid][t.at].dc=t:Ze[t.aid][t.at].dc=null};e=this._group<0||this._group>=t.ct.length?0:t.ct[this._group]?this._group:0,on.preload(t.aid,t.ct[e],t.at,t.p,n)},e.playDA=function(t,e){var n=this;Ze[t.aid]||(Ze[t.aid]={}),Ze[t.aid][t.at]||(Ze[t.aid][t.at]={dc:null}),Ze[t.aid][t.at].dc=null;var i,r=function(i){e(i),2!=t.at&&6!=Number(i)&&n.preloadDA(t)};i=this._group<0||this._group>=t.ct.length?0:t.ct[this._group]?this._group:0,on.play(t.aid,t.ct[i],t.at,t.p,r)},e.rstCode=function(){t.log("~~ da rstCode");for(var e in this._data.policyMap)this._data.policyMap[e].en=!0,this._data.policyMap[e].cc=0,this._data.policyMap[e].crts=0},e.rstCodeIfAllDisable=function(){var t=!0;for(var e in this._data.policyMap)if(this._data.policyMap[e].en){t=!1;break}t&&this.rstCode()},e._getCode=function(t){for(var e=0;e<this._data.codes.length;e++){var n=this._data.codes[e];if(n.cid==t)return n}return null},e.getCurCode=function(e,n,i){var r=this,a=-1;i.length>0&&(a=i[i.length-1]),e.forEach(function(e){var n=r._getCode(e);n.aid==a&&(r._data.policyMap[n.aid].crts>=r._data.policyMap[n.aid].rts?(r._data.policyMap[n.aid].en=!1,t.log("~~ da disable :"+n.aid)):(r._data.policyMap[n.aid].crts++,t.log("~~ da "+n.aid+" crts++:"+r._data.policyMap[n.aid].crts)))});for(var o=0,s=function(t){var n=c._getCode(e[t]),r=c._data.policyMap[n.aid];if(!r.en)return"continue";var a=!1;return i.forEach(function(t){t==n.aid&&(a=!0)}),a?"continue":r.cc<r.c&&r.m&tn.MODE_COUNT?{value:n}:void(r.m&tn.MODE_WEIGHT&&(o+=r.w))},c=this,d=0;d<e.length;d++){var u=s(d);if("object"==typeof u)return u.value}for(var l=Math.random()*o,p=function(t){var n=f._getCode(e[t]),r=f._data.policyMap[n.aid];if(!r.en)return"continue";var a=!1;if(i.forEach(function(t){t==n.aid&&(a=!0)}),a)return"continue";if(r.m&tn.MODE_WEIGHT){if(l<r.w)return{value:n};l-=r.w}},f=this,d=0;d<e.length;d++){var h=p(d);if("object"==typeof h)return h.value}return t.log("~~ da getCurCode:"+JSON.stringify(e)),null},e.selectCode=function(e,n,i){var r=this._data.posList,a=function(){if(!r)return"break";var t=Math.floor(Date.now()/864e5);if(o._data.today!=t){o._data.today=t;for(var a in o._data.policyMap)o._data.policyMap[a].en=!0,o._data.policyMap[a].cc=0,o._data.policyMap[a].crts=0,o._data.policyMap[a].tc=0}var s;return r.forEach(function(t){t.p==e&&(s=t.cl)}),s?{value:o.getCurCode(s,n,i)}:"break"},o=this;do{var s=a();if("object"==typeof s)return s.value;if("break"===s)break}while(0);return t.log("~~ da selectCode null:"+e+" codes:"+JSON.stringify(r)+" cfg:"+JSON.stringify(this._data.policyMap)),this.rstCode(),null},e.playDAWithRetry=function(e,n,i,r){var a=this,o={p:0,d:0,s:0,c:0,m:0},s=this.selectCode(e,!1,r);if(s){s.at==tn.Banner&&0==r.length&&(o.s=rn.STATUS_OK,i(o));var c=Date.now();this.playBegin(e,n,s,this.getPreloadDA(s),this._data.policyMap[s.aid].tc,r.length,function(d,u){if(d){if(!a._data.policyMap[s.aid])return void(s.at!=tn.Banner&&(p("!!no policy"),i(o)));a.addCC(s),o.p=u;Date.now();a.playDA(s,function(d){t.log("~~ da r:"+d),o.s=Number(d),o.s==rn.STATUS_CLICK_AD?o.c++:(o.d=Date.now()-c,o.m=r.length<a._aidCnt?1:0,a.playEnd(o,function(c){if((o.s==rn.STATUS_OK||o.s==rn.STATUS_CANCELED)&&s.at>4){var d=a._data.policyMap[s.aid];d&&d.tc++}switch(c){case 1:r.push(s.aid),t.log("~~ da retry cur_fail:"+s.aid),s.at==tn.Banner?a.playDAWithRetry(e,n,function(){},r):a.playDAWithRetry(e,n,i,r);
break;case 0:o.s!=rn.STATUS_OK&&(t.log("~~ da r:"+o.s+"->OK"),o.s=rn.STATUS_OK);case 2:default:s.at!=tn.Banner&&i(o)}}))})}else o.s=rn.STATUS_UNKNOWN,s.at!=tn.Banner&&i(o)})}else o.s=rn.STATUS_OUT_OF_AD,i(o)},e.addCC=function(t){if(t.at!=tn.Banner){var e=this._data.policyMap[t.aid];e&&e.cc++,this.saveDaData()}},e._autoPreloadDA=function(){for(var e=this._data.codes,n={},i=0;i<e.length;i++){var r=e[i];switch(n[r.aid]||(n[r.aid]={}),r.at){case tn.RewardVideo:case tn.RewardVideoLandscape:n[r.aid].rewardcode||(n[r.aid].rewardcode=r);break;case tn.FullVideo:case tn.FullVideoLandscape:n[r.aid].fullcode||(n[r.aid].fullcode=r)}}for(var a in n){var o=n[a];o.rewardcode&&(t.log("~~ da preload reward:"+JSON.stringify(o)),this.preloadDA(o.rewardcode)),o.fullcode&&(t.log("~~ da preload full:"+JSON.stringify(o)),this.preloadDA(o.fullcode))}},e._updateCfg=function(e){if(e.v!=this._data.ver){this._data.ver=e.v,this._data.posList=e.pl,this._data.codes=e.cl;var n=this._data.policyMap;this._data.policyMap={};for(var i=0;i<e.pyl.length;i++){var r=!1,a=e.pyl[i];for(var o in n)if(o==""+a.aid){t.log("~~ da pyl:"+a.aid),n[o].aid=a.aid,n[o].m=a.m,n[o].w=a.w,n[o].c=a.c,n[o].rts=a.rts,void 0===n[o].cc&&(n[o].cc=0),void 0===n[o].crts&&(n[o].crts=0),void 0===n[o].en&&(n[o].en=!0),void 0===n[o].tc&&(n[o].tc=0),this._data.policyMap[o]=n[o],r=!0;break}r||(this._data.policyMap[a.aid]?t.log("!! da pyl 2:"+a.aid):(t.log("~~ da pyl 2:"+a.aid),this._data.policyMap[a.aid]=a,this._data.policyMap[a.aid].en=!0,this._data.policyMap[a.aid].cc=0,this._data.policyMap[a.aid].crts=0,this._data.policyMap[a.aid].tc=0))}this.saveDaData()}},e._initSdk=function(){this._aidCnt=0;for(var e in this._data.policyMap)this._aidCnt++,t.log("~~ da init:"+e),on.init(parseInt(e))},e._parseClientResp=function(t){t.sid&&(this._session=t.sid),t.cfg&&this._updateCfg(t.cfg)},Object.defineProperty(e,"daUrl",{get:function(){return"1"==Me.prop("ga_url_type")?Qe:Ke},enumerable:!0,configurable:!0}),e.init=function(n){var i=this;this._data=this.getDaData();var r={sid:this._session,pg:t.Ga.prop("sys.pkgName"),pv:t.Ga.prop("sys.verName"),ch:t.Ga.prop("sys.channel"),d:t.Ga.prop(t.PROP_DEVICE_ID),pu:t.Ga.prop("umdeviceToken"),vnd:t.Ga.prop("sys.build.brand"),bm:t.Ga.prop("sys.build.model"),bv:t.Ga.prop("sys.build.sdkInt"),ov:t.Ga.prop("sys.build.osVer"),"if":t.Ga.prop("sys.prop.idfa"),ot:parseInt(t.Ga.prop(t.PROP_PLATFORM)),dv:1,sv:t.Ga.prop("sys.verCode"),al:JSON.parse(t.Ga.prop(X)),u:this.userToken,lcv:this.cfgVer};for(var a in r)null===r[a]&&(r[a]=void 0);p(this.daUrl+qe+" ->:"+JSON.stringify(r)),this._initing=!0,Ge.postJSONEx(this.daUrl+qe,!1,JSON.stringify(r),function(t,r,a){i._initing=!1,p("http <-:"+JSON.stringify(r)),r&&"OK"==r.r?(i._inited=!0,i._parseClientResp(r),i._group=r.ag,e._initSdk(),e._autoPreloadDA(),i.userToken=r.u,n&&n(!0)):n&&n(!1)},15e3)},e.play=function(e,n,i){this._initing?i({p:0,d:0,c:0,m:0,s:sn.BusyInit}):this._inited?"1"==t.Ga.prop("prop.noDA")?i({p:0,d:0,c:0,m:0,s:sn.Unknown}):(this.rstCodeIfAllDisable(),this.playDAWithRetry(e,n,i,[])):i({p:0,d:0,c:0,m:0,s:sn.BusyInit})},e.hideBa=function(){on.closePlay()},e.playBegin=function(e,n,i,r,a,o,s){var c,d=this,u=r?r:i;c=this._group<0||this._group>=u.ct.length?0:u.ct[this._group]?this._group:0;var l={sid:this._session,pp:e,rt:o,ct:Date.now(),as:i.aid,ac:i.cid,pas:u.aid,pac:u.cid,pat:u.at,pak:u.ct[c],pag:this._group,f:r?1:0,g:Je.id,up:n,gu:Je.isSingle?void 0:Je.prop(t.PROP_UID)};p(this.daUrl+Xe+" ->:"+JSON.stringify(l)),Ge.postJSONEx(this.daUrl+Xe,!1,JSON.stringify(l),function(t,e,n){p("http <-:"+JSON.stringify(e)),e&&"OK"==e.r?(d._parseClientResp(e),d._group=e.ag,s(!0,e.p)):s(!1,0)},15e3)},e.playEnd=function(t,e){var n=this,i={sid:this._session,p:t.p,d:t.d,s:t.s,c:t.c,m:t.m};p(this.daUrl+ze+" ->:"+JSON.stringify(i)),Ge.postJSONEx(this.daUrl+ze,!1,JSON.stringify(i),function(i,r,a){p("http <-:"+JSON.stringify(r)),r&&"OK"==r.r?(n._parseClientResp(r),e(r.s)):e(t.s)},15e3)},e._aidCnt=0,e._initing=!1,e._inited=!1,e._group=0,e}();__reflect(an.prototype,"DaManager");var on=function(){function t(){}return t.init=function(t){Me.prop("cmd.initadsdk",""+t)},t.preload=function(t,e,n,i,r){Me.invoke(S,z,[d(z+e,r,!0),t,e,n,i])},t.play=function(t,e,n,i,r){Me.invoke(S,$,[d($+e,r,!1),t,e,n,i])},t.closePlay=function(){Me.invoke(S,Y)},t}();__reflect(on.prototype,"_ShellDA");var sn;!function(t){t[t.BusyInit=-3]="BusyInit",t[t.NoInit=-2]="NoInit",t[t.InitFail=-1]="InitFail",t[t.Unknown=0]="Unknown",t[t.Success=2]="Success",t[t.Canceled=3]="Canceled",t[t.OutOfAD=4]="OutOfAD",t[t.TimeOut=5]="TimeOut"}(sn=t.ADResult||(t.ADResult={}));var cn;!function(t){t[t.FullVideoPortrait=1]="FullVideoPortrait",t[t.FullVideoLandscape=2]="FullVideoLandscape",t[t.RewardVideoPortrait=3]="RewardVideoPortrait",t[t.RewardVideoLandscape=4]="RewardVideoLandscape",t[t.BaTop=5]="BaTop",t[t.BaBottom=6]="BaBottom"}(cn=t.EPosID||(t.EPosID={}));var dn;!function(t){t[t.NONE=0]="NONE",t[t.WIN=1]="WIN",t[t.LOSE=2]="LOSE",t[t.DEUCE=5]="DEUCE"}(dn=t.PlayResult||(t.PlayResult={}))}($SF||($SF={}));